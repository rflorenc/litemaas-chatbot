# Default values for mentor-bot Helm chart
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

# Global settings
global:
  # Override name
  nameOverride: ""
  fullnameOverride: ""

# Image configuration
image:
  # Image repository
  repository: mentor-bot
  # Image pull policy
  pullPolicy: IfNotPresent
  # Image tag (overrides appVersion from Chart.yaml)
  tag: "latest"

# Image pull secrets for private registries
imagePullSecrets: []

# Number of replicas
replicaCount: 1

# Service account configuration
serviceAccount:
  # Specifies whether a service account should be created
  create: true
  # Annotations to add to the service account
  annotations: {}
  # The name of the service account to use
  name: "mentor-bot-sa"

# Pod annotations
podAnnotations:
  prometheus.io/scrape: "true"
  prometheus.io/port: "8080"
  prometheus.io/path: "/metrics"

# Pod security context
podSecurityContext:
  runAsNonRoot: true
#  runAsUser: 1001
#  fsGroup: 1001

# Container security context
securityContext:
  allowPrivilegeEscalation: false
  capabilities:
    drop:
    - ALL
  readOnlyRootFilesystem: false

# Service configuration
service:
  # Service type (ClusterIP, NodePort, LoadBalancer)
  type: ClusterIP
  # Service port
  port: 8080
  # Target port (containerPort)
  targetPort: 8080
  # Protocol
  protocol: TCP
  # Port name
  portName: http

# Route configuration (OpenShift)
route:
  # Enable OpenShift Route creation
  enabled: true
  # Route hostname (leave empty for auto-generated)
  host: ""
  # Path (optional)
  path: ""
  # TLS configuration
  tls:
    # TLS termination type (edge, passthrough, reencrypt)
    termination: edge
    # Redirect HTTP to HTTPS
    insecureEdgeTerminationPolicy: Redirect
  # Route annotations
  annotations:
    haproxy.router.openshift.io/timeout: "60s"

# Ingress configuration (for standard Kubernetes)
ingress:
  enabled: false
  className: ""
  annotations: {}
  hosts:
    - host: mentor-bot.local
      paths:
        - path: /
          pathType: ImplementationSpecific
  tls: []

# Application configuration
config:
  # Application port
  port: "8080"
  # Flask environment
  flaskEnv: "production"
  # Python unbuffered output
  pythonUnbuffered: "1"
  # LiteMAAS base URL
  litemaasBaseUrl: "https://litellm-litemaas.apps.prod.rhoai.rh-aiservices-bu.com"
  # Team configuration
  teamSubdomain: "rlteam"
  hostSuffix: "example.sslip.io"

# Secrets configuration
secrets:
  # Name of the secret containing sensitive data
  name: "mentor-bot-secrets"
  # Create secret from values (WARNING: not recommended for production)
  create: true
  # Secret data (base64 encoded values or plain text)
  data:
    # LiteMAAS API key - REPLACE THIS or use external secret
    LITEMAAS_API_KEY: "YOUR_API_KEY_HERE"

# Resource limits and requests
resources:
  limits:
    cpu: 1000m
    memory: 512Mi
  requests:
    cpu: 250m
    memory: 256Mi

# Autoscaling configuration
autoscaling:
  enabled: false
  minReplicas: 1
  maxReplicas: 5
  targetCPUUtilizationPercentage: 80
  targetMemoryUtilizationPercentage: 80

# Health check probes
livenessProbe:
  httpGet:
    path: /health
    port: http
  initialDelaySeconds: 15
  periodSeconds: 20
  timeoutSeconds: 3
  failureThreshold: 3

readinessProbe:
  httpGet:
    path: /health
    port: http
  initialDelaySeconds: 10
  periodSeconds: 5
  timeoutSeconds: 3
  failureThreshold: 3

startupProbe:
  httpGet:
    path: /health
    port: http
  initialDelaySeconds: 5
  periodSeconds: 5
  timeoutSeconds: 3
  failureThreshold: 12

# Node selector
nodeSelector: {}

# Tolerations
tolerations: []

# Affinity rules
affinity: {}

# Pod labels
labels:
  app: mentor-bot
  team: rlteam
  version: v1

# Additional environment variables
extraEnv: []
  # - name: DEBUG
  #   value: "false"

# Additional volumes
extraVolumes: []
  # - name: custom-config
  #   configMap:
  #     name: custom-config

# Additional volume mounts
extraVolumeMounts: []
  # - name: custom-config
  #   mountPath: /etc/config
  #   readOnly: true
